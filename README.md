# 🚀 비트코인 현물-선물 차익거래 자동화 전략

> **학술 논문 기반의 암호화폐 차익거래 알고리즘 개발 및 백테스팅 프로젝트**

## 📋 프로젝트 개요

본 프로젝트는 학술 논문을 기반으로 한 비트코인 현물-선물 차익거래 전략을 TradingView Pine Script로 구현하고, 실제 백테스팅을 통해 전략의 유효성을 검증한 포트폴리오 프로젝트입니다.

### 🎯 핵심 목표
- **학술적 접근**: 논문 기반의 체계적인 차익거래 전략 수립
- **기술적 구현**: Pine Script를 활용한 자동화된 거래 알고리즘 개발
- **실증적 검증**: 5년간의 백테스팅을 통한 전략 성과 분석
- **리스크 관리**: 현물-선물 포지션의 동시 관리 및 청산 위험 최소화

## 🔍 전략 분석

### 거래 원리
비트코인 현물과 선물 간의 가격 차이(스프레드)를 이용한 차익거래:
- **현물 가격 < 선물 가격**: 현물 매수 + 선물 숏 포지션
- **현물 가격 > 선물 가격**: 현물 매도 + 선물 포지션 청산

### 기술적 구현
- **플랫폼**: TradingView Pine Script v6
- **거래소**: OKX(현물), Binance(선물)
- **시간프레임**: 일봉 차트 (안정성 최적화)
- **포지션 관리**: 동시 진입/청산을 통한 리스크 헤징

## 💻 코드 구조

### 현물 전략 (`차익거래 현물 파인스크립트 코드.txt`)
```pinescript
// 핵심 기능
- OKX 현물 가격 모니터링
- 스프레드 계산 및 진입/청산 조건 설정
- 수수료 및 거래비용 자동 계산
- 실시간 수익률 추적
```

### 선물 전략 (`차익거래 선물 파인스크립트 코드.txt`)
```pinescript
// 핵심 기능
- Binance 선물 가격 모니터링
- 숏 포지션 관리 및 청산 위험 제어
- 현물과의 동기화된 거래 실행
- 레버리지 1배로 안전성 확보
```

## 📊 백테스팅 결과

### 📈 성과 지표 (2019.09.10 ~ 2025.02.13)
- **총 거래 건수**: 340건
- **투자 자금**: 현물 1,000 USDT + 선물 8,000 USDT
- **현물 수익**: +15,135.29 USDT
- **선물 수익**: -6,607.23 USDT
- **순수익**: +7,528.06 USDT

### 📉 시장 환경 변화 분석
- **2019-2022**: 높은 수익성과 빈번한 거래 기회
- **2022.08 이후**: 스프레드 축소로 거래 기회 급감
- **비용 증가**: 수수료 및 펀딩비 상승으로 수익성 저하

## 📈 전략 구현 및 성과 시각화

### 1. 현물 전략 오버뷰
비트코인 가격이 항상 우상향 하는 관계로 현물의 가격은 상승했으며, 현물은 청산 위험이 없습니다.

![차익거래 현물 오버뷰](https://github.com/user-attachments/assets/8ed7146c-0ab8-4df6-aba3-06b60f1a5323)

### 2. 현물 전략 파인스크립트 코드
논문에서 제시한 거래 전략 및 수익 계산 공식을 활용하여 수수료 및 거래 비용을 임의로 계산 후 이익이 발생하는지 여부를 고려했습니다.

![차익거래 현물 파인스크립트 코드](https://github.com/user-attachments/assets/fbb0d62c-9897-4437-a0a0-55ae472138ff)

### 3. 현물 전략 거래 목록
선물 거래와 동시에 거래가 진행되었는지 확인하기 위해 거래 횟수 및 시간 등의 비교했습니다.

![차익거래 현물 거래목록](https://github.com/user-attachments/assets/14268108-351a-4ffa-b95c-8788b3b85593)

### 4. 선물 전략 오버뷰
선물 거래의 특성 및 숏 포지션을 특성 때문에 항상 강제 청산의 위험이 있습니다. 레버리지는 1배로 계산했지만 USDT 페어의 경우 가격이 2배이상 급등하면 청산의 위험이 있습니다. 이러한 이유로 숏 포지션에는 증거금을 여유있게 준비해야합니다.

![차익거래 선물 오버뷰](https://github.com/user-attachments/assets/15b732b1-b508-43af-968d-258da58005)

### 5. 선물 전략 파인스크립트 코드
현물 거래와 동시에 거래가 진행되었는지 확인하기 위해 거래 횟수 및 시간 등의 비교했습니다.

![차익거래 선물 파인스크립트 코드](https://github.com/user-attachments/assets/3750f40e-421a-4ba5-a838-419ce7c34bb2)

### 6. 선물 전략 거래 목록
현물 거래와 동시에 거래가 진행되었는지 확인하기 위해 거래 횟수 및 시간 등의 비교했습니다.

![차익거래 선물 거래목록](https://github.com/user-attachments/assets/6630aa1d-ce7b-44a2-8c76-61c40c4e0efe)

## 🛠️ 기술적 특징

### 모듈화된 설계
- 현물/선물 전략의 독립적 구현
- 공통 변수 및 함수의 재사용성
- 실시간 데이터 동기화

### 리스크 관리
- 동시 진입/청산으로 시장 노출 최소화
- 1배 레버리지로 청산 위험 제어
- 수수료 및 거래비용 자동 반영

### 백테스팅 검증
- 5년간의 실제 데이터 기반 검증
- 다양한 시장 상황에서의 전략 안정성 확인
- 수익성과 리스크의 균형점 도출

## 🎓 학습 성과

### 금융 지식
- 차익거래 이론의 실무 적용
- 현물-선물 시장 구조 이해
- 리스크 헤징 전략 수립

### 기술 역량
- Pine Script 프로그래밍
- 알고리즘 트레이딩 구현
- 백테스팅 및 성과 분석

### 프로젝트 관리
- 학술 논문의 실무 적용
- 체계적인 전략 검증 과정
- 시장 변화에 따른 전략 한계 인식

## 🔮 결론 및 시사점

이 프로젝트를 통해 **학술적 이론을 실제 거래 전략으로 구현**하고, **5년간의 백테스팅을 통해 전략의 유효성과 한계**를 명확히 파악할 수 있었습니다. 

특히 2022년 이후 시장 환경 변화로 인한 전략의 실효성 저하를 확인함으로써, **시장 환경 변화에 따른 전략의 지속적 개선 필요성**을 학습했습니다.

---

> **포트폴리오 하이라이트**: 학술 논문 기반의 체계적인 접근, Pine Script를 활용한 실무 구현, 5년간의 실증적 검증을 통한 전략의 유효성 및 한계 분석
